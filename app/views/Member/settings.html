#{extends 'main.html' /}
#{set title:'Edit Contact' /}

#{include 'navbar.html' /}
<div class="row">
    <div class="col">
        <div class="card mt-4">
            <div class="card-header">
                <h4>Settings</h4>
            </div>
            
            <div class="card-body">
                #{form @Member.settingsAction()}
                <form class="mx-auto">
                    <div class="form-group">
                        <label for="firstname">First Name</label>
                        <input type="text" class="form-control" placeholder="Firstname" value="${user?.firstname}" id="firstname" name="user.firstname" aria-describedby="firstnameHelpBlock">                                
                        <small id="firstnameHelpBlock" class="form-text text-muted">
                            #{error 'user.firstname' /}
                        </small>
                    </div>
                    <div class="form-group">
                        <label for="lastname">Last Name</label>
                        <input type="text" class="form-control" placeholder="Lastname" value="${user?.lastname}" id="lastname" name="user.lastname" aria-describedby="lastnameHelpBlock">   
                        <small id="lastnameHelpBlock" class="form-text text-muted">
                            #{error 'user.lastname' /}
                        </small>
                    </div>
                    <div class="form-group">
                        <label for="email">Email address</label>
                        <input type="email" class="form-control disabled" placeholder="Email" value="${user?.email}" id="email" name="user.email" aria-describedby="emailHelpBlock">   
                        <small id="emailHelpBlock" class="form-text text-muted">
                            #{error 'user.email' /}
                        </small>      
                    </div>
                    
                    <div class="form-group">
                    <label for="password">Change Password</label>
                    <input type="password" class="form-control" placeholder="Type new password to change or leave blank to keep current one" id="password" name="password" aria-describedby="passwordHelpBlock">
                    <small id="passwordHelpBlock" class="form-text text-muted">
                        #{error 'password' /}
                    </small>
                  </div> 
                    
                    <hr>
                    <div class="form-group">
                        <label for="reminder">Send birthday reminder (hours)</label>
                        <input type="number" class="form-control" placeholder="Phone" value="${user?.birthdayReminderHours}" id="reminder" name="user.birthdayReminderHours" aria-describedby="reminderHelpBlock">   
                        <small id="reminderHelpBlock" class="form-text text-muted">
                            #{error 'user.birthdayReminderHours' /}
                        </small>              
                    </div>
                    
                    <input type="hidden" value="${user.id}" name="user.id">   
                    <button type="submit" class="btn btn-primary">Edit settings</button>
                </form>
                #{/form}
            </div>
        </div>
    </div>
</div>